"use strict";var ProfitPath=(()=>{var h=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var p=(a,t)=>{for(var e in t)h(a,e,{get:t[e],enumerable:!0})},T=(a,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of g(t))!k.call(a,s)&&s!==e&&h(a,s,{get:()=>t[s],enumerable:!(i=d(t,s))||i.enumerable});return a};var P=a=>T(h({},"__esModule",{value:!0}),a);var N={};p(N,{BREAKEVEN_CONFIG:()=>b,DEFAULT_VALUES:()=>w,FUTURES_CONTRACTS:()=>f,PROP_FIRM_TARGETS:()=>C,TARGET_PRESETS:()=>R,URL_PARAMS:()=>y,calculateBreakevenAdjustedWinRate:()=>S,calculateDaysToTarget:()=>D,calculateExpectancy:()=>v,calculateRValue:()=>M,calculateTickValue:()=>L,calculateWeightedAverageExit:()=>A,formatCurrency:()=>V,formatPercentage:()=>_,pointsToTicks:()=>x,riskCalculator:()=>m,ticksToPoints:()=>E,validateTradingInputs:()=>G});var f={MNQ:{name:"Micro E-mini Nasdaq-100",tickValue:.5,pointValue:2,ticksPerPoint:4,defaultCommission:1.35},MES:{name:"Micro E-mini S&P 500",tickValue:1.25,pointValue:5,ticksPerPoint:4,defaultCommission:1.35},MYM:{name:"Micro E-mini Dow",tickValue:.5,pointValue:.5,ticksPerPoint:1,defaultCommission:1.35},M2K:{name:"Micro E-mini Russell 2000",tickValue:.5,pointValue:5,ticksPerPoint:10,defaultCommission:1.35},MCL:{name:"Micro Crude Oil",tickValue:1,pointValue:100,ticksPerPoint:100,defaultCommission:1.35},MGC:{name:"Micro Gold",tickValue:1,pointValue:10,ticksPerPoint:10,defaultCommission:1.35},ES:{name:"E-mini S&P 500",tickValue:12.5,pointValue:50,ticksPerPoint:4,defaultCommission:2.5},NQ:{name:"E-mini Nasdaq-100",tickValue:5,pointValue:20,ticksPerPoint:4,defaultCommission:2.5},YM:{name:"E-mini Dow",tickValue:5,pointValue:5,ticksPerPoint:1,defaultCommission:2.5},RTY:{name:"E-mini Russell 2000",tickValue:5,pointValue:50,ticksPerPoint:10,defaultCommission:2.5},CL:{name:"Crude Oil",tickValue:10,pointValue:1e3,ticksPerPoint:100,defaultCommission:2.5},GC:{name:"Gold",tickValue:10,pointValue:100,ticksPerPoint:10,defaultCommission:2.5}},C={custom:{target:6e3,dailyLimit:1100,maxDrawdown:2e3},topstep_50k:{target:3e3,dailyLimit:1100,maxDrawdown:2e3},topstep_100k:{target:6e3,dailyLimit:2200,maxDrawdown:3e3},topstep_150k:{target:9e3,dailyLimit:3300,maxDrawdown:4500},elite_25k:{target:1500,dailyLimit:500,maxDrawdown:1500},elite_50k:{target:2750,dailyLimit:1100,maxDrawdown:2500},elite_100k:{target:6e3,dailyLimit:2200,maxDrawdown:3e3},elite_150k:{target:9e3,dailyLimit:3300,maxDrawdown:4500},takeprofit_25k:{target:1500,dailyLimit:500,maxDrawdown:1500},takeprofit_50k:{target:3e3,dailyLimit:1100,maxDrawdown:2e3},takeprofit_100k:{target:6e3,dailyLimit:2200,maxDrawdown:3e3},mff_25k:{target:1250,dailyLimit:375,maxDrawdown:1500},mff_50k:{target:2500,dailyLimit:1100,maxDrawdown:2500},mff_100k:{target:5e3,dailyLimit:2200,maxDrawdown:4e3},mff_150k:{target:7500,dailyLimit:3300,maxDrawdown:6e3},bluesky_25k:{target:1500,dailyLimit:500,maxDrawdown:1500},bluesky_50k:{target:3e3,dailyLimit:1100,maxDrawdown:2500},bluesky_100k:{target:6250,dailyLimit:2200,maxDrawdown:5e3}},w={selectedContract:"MNQ",selectedPropFirm:"custom",winningTrades:2,losingTrades:2,ticksGained:120,ticksLost:68,numContracts:1,numAccounts:1,eaProfitTarget:6e3,tradingDaysPerMonth:21,customDays:235,converterTicks:0,converterPoints:0,useTargetSimulation:!1,target1Contracts:0,target1Points:10,target2Contracts:0,target2Points:20,target3Contracts:0,target3Points:40,useBreakevenStop:!1,breakevenTriggerPoints:10,breakevenWinRate:.3,showShareModal:!1,shareURL:"",copied:!1},R={conservative:{name:"Conservative",description:"60% at 1R, 30% at 2R, 10% at 3R",distribution:[.6,.3,.1],rMultiples:[1,2,3]},moderate:{name:"Moderate",description:"40% at 1.5R, 40% at 2.5R, 20% at 4R",distribution:[.4,.4,.2],rMultiples:[1.5,2.5,4]},aggressive:{name:"Aggressive",description:"25% at 2R, 50% at 3R, 25% at 5R",distribution:[.25,.5,.25],rMultiples:[2,3,5]},breakout:{name:"Breakout",description:"33% at 3R, 33% at 5R, 34% at 8R",distribution:[.33,.33,.34],rMultiples:[3,5,8]}},b={DEFAULT_TRIGGER_POINTS:10,DEFAULT_WIN_RATE:.3,TRADES_REACHING_BE_PERCENTAGE:.8},y={CONTRACT:"c",PROP_FIRM:"pf",WINNING_TRADES:"w",LOSING_TRADES:"l",TICKS_GAINED:"tg",TICKS_LOST:"tl",NUM_CONTRACTS:"nc",NUM_ACCOUNTS:"na",PROFIT_TARGET:"pt",COMMISSION:"cr",USE_TARGET_SIM:"uts",TARGET1_CONTRACTS:"t1c",TARGET1_POINTS:"t1p",TARGET2_CONTRACTS:"t2c",TARGET2_POINTS:"t2p",TARGET3_CONTRACTS:"t3c",TARGET3_POINTS:"t3p",USE_BREAKEVEN:"ubs",BREAKEVEN_TRIGGER:"btp",BREAKEVEN_WIN_RATE:"bwr"};function L(a,t,e){return a*t.tickValue*e}function x(a,t){return a*t.ticksPerPoint}function E(a,t){return a/t.ticksPerPoint}function v(a,t,e,i,s){let n=t-i*s,r=e+i*s,o=1-a;return a*n-o*r}function M(a,t){return t>0?a/t:0}function S(a,t,e=.8){let i=a*e;return a*(1-e)+i*t}function A(a,t){if(t===0)return 0;let e=0,i=0;for(let s of a){if(i>=t)break;let n=Math.min(s.contracts,t-i);e+=n*s.points,i+=n}return i>0?e/i:0}function D(a,t){return t>0?a/t:0}function V(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}function _(a,t=1){return`${a.toFixed(t)}%`}function G(a){let t=[];return a.winningTrades<0&&t.push("Winning trades must be non-negative"),a.losingTrades<0&&t.push("Losing trades must be non-negative"),a.winningTrades+a.losingTrades===0&&t.push("Total trades must be greater than zero"),a.ticksGained<0&&t.push("Ticks gained must be non-negative"),a.ticksLost<0&&t.push("Ticks lost must be non-negative"),a.numContracts<=0&&t.push("Number of contracts must be greater than zero"),a.numAccounts<=0&&t.push("Number of accounts must be greater than zero"),{isValid:t.length===0,errors:t}}function m(){return{contracts:{MNQ:{name:"Micro E-mini Nasdaq-100",tickValue:.5,pointValue:2,ticksPerPoint:4,defaultCommission:1.35},ES:{name:"E-mini S&P 500",tickValue:12.5,pointValue:50,ticksPerPoint:4,defaultCommission:2.5},MES:{name:"Micro E-mini S&P 500",tickValue:1.25,pointValue:5,ticksPerPoint:4,defaultCommission:1.35},NQ:{name:"E-mini Nasdaq-100",tickValue:5,pointValue:20,ticksPerPoint:4,defaultCommission:2.5},YM:{name:"E-mini Dow",tickValue:5,pointValue:5,ticksPerPoint:1,defaultCommission:2.5},MYM:{name:"Micro E-mini Dow",tickValue:.5,pointValue:.5,ticksPerPoint:1,defaultCommission:1.35},RTY:{name:"E-mini Russell 2000",tickValue:5,pointValue:50,ticksPerPoint:10,defaultCommission:2.5},M2K:{name:"Micro E-mini Russell 2000",tickValue:.5,pointValue:5,ticksPerPoint:10,defaultCommission:1.35},CL:{name:"Crude Oil",tickValue:10,pointValue:1e3,ticksPerPoint:100,defaultCommission:2.5},MCL:{name:"Micro Crude Oil",tickValue:1,pointValue:100,ticksPerPoint:100,defaultCommission:1.35},GC:{name:"Gold",tickValue:10,pointValue:100,ticksPerPoint:10,defaultCommission:2.5},MGC:{name:"Micro Gold",tickValue:1,pointValue:10,ticksPerPoint:10,defaultCommission:1.35}},propFirmTargets:{custom:{target:6e3,dailyLimit:1100,maxDrawdown:2e3},topstep_50k:{target:3e3,dailyLimit:1100,maxDrawdown:2e3},topstep_100k:{target:6e3,dailyLimit:2200,maxDrawdown:3e3},topstep_150k:{target:9e3,dailyLimit:3300,maxDrawdown:4500},elite_25k:{target:1500,dailyLimit:500,maxDrawdown:1500},elite_50k:{target:2750,dailyLimit:1100,maxDrawdown:2500},elite_100k:{target:6e3,dailyLimit:2200,maxDrawdown:3e3},elite_150k:{target:9e3,dailyLimit:3300,maxDrawdown:4500},takeprofit_25k:{target:1500,dailyLimit:500,maxDrawdown:1500},takeprofit_50k:{target:3e3,dailyLimit:1100,maxDrawdown:2e3},takeprofit_100k:{target:6e3,dailyLimit:2200,maxDrawdown:3e3},mff_25k:{target:1250,dailyLimit:375,maxDrawdown:1500},mff_50k:{target:2500,dailyLimit:1100,maxDrawdown:2500},mff_100k:{target:5e3,dailyLimit:2200,maxDrawdown:4e3},mff_150k:{target:7500,dailyLimit:3300,maxDrawdown:6e3},bluesky_25k:{target:1500,dailyLimit:500,maxDrawdown:1500},bluesky_50k:{target:3e3,dailyLimit:1100,maxDrawdown:2500},bluesky_100k:{target:6250,dailyLimit:2200,maxDrawdown:5e3}},selectedContract:"MNQ",selectedPropFirm:"custom",winningTrades:2,losingTrades:2,ticksGained:120,ticksLost:68,numContracts:1,numAccounts:1,commissionPerRT:1.35,eaProfitTarget:6e3,eaDailyLimit:1100,eaMaxDrawdown:2e3,tradingDaysPerMonth:21,customDays:235,converterTicks:0,converterPoints:0,useTargetSimulation:!1,target1Contracts:0,target1Points:10,target2Contracts:0,target2Points:20,target3Contracts:0,target3Points:40,useBreakevenStop:!1,breakevenTriggerPoints:10,breakevenWinRate:.3,showShareModal:!1,shareURL:"",copied:!1,showDetailedView:!1,init(){this.showShareModal=!1,this.copied=!1,this.commissionPerRT=this.contracts[this.selectedContract].defaultCommission,this.$watch("selectedContract",t=>{this.commissionPerRT=this.contracts[t].defaultCommission}),this.loadFromURL()},updatePropFirmTarget(){if(this.selectedPropFirm!=="custom"){let t=this.propFirmTargets[this.selectedPropFirm];this.eaProfitTarget=t.target,this.eaDailyLimit=t.dailyLimit,this.eaMaxDrawdown=t.maxDrawdown}},get totalTrades(){return this.winningTrades+this.losingTrades},get winLossPercent(){return this.totalTrades>0?Math.round(this.winningTrades/this.totalTrades*100):0},get winRate(){return this.totalTrades>0?this.winningTrades/this.totalTrades:0},get contract(){return this.contracts[this.selectedContract]},get avgWinAmount(){return(this.useTargetSimulation?this.avgExitTicks:this.ticksGained)*this.contract.tickValue*this.numContracts},get avgLossAmount(){return this.ticksLost*this.contract.tickValue*this.numContracts},get maxTradeLoss(){return this.avgLossAmount},get maxTradeGain(){return this.avgWinAmount},get rValue(){let t=this.useTargetSimulation?this.avgExitTicks:this.ticksGained;return this.ticksLost>0?t/this.ticksLost:0},get rRatio(){return this.rValue.toFixed(2)},get expectancy(){let t=this.avgWinAmount-this.commissionPerRT*this.numContracts,e=this.avgLossAmount+this.commissionPerRT*this.numContracts,i=1-this.winRate;return this.winRate*t-i*e},get expectancyR(){return this.avgLossAmount===0?0:this.expectancy/this.avgLossAmount},get expectancyPercent(){return this.avgLossAmount===0?0:this.expectancy/this.avgLossAmount*100},get breakevenAdjustedWinRate(){if(!this.useBreakevenStop)return this.winRate;let t=this.calculateBreakevenReachRate(),e=this.winRate*t;return this.winRate*(1-t)+e*this.breakevenWinRate},get breakevenScratchRate(){if(!this.useBreakevenStop)return 0;let t=this.calculateBreakevenReachRate();return this.winRate*t*(1-this.breakevenWinRate)},calculateBreakevenReachRate(){let t=this.breakevenTriggerPoints*this.contract.ticksPerPoint,e=this.useTargetSimulation?this.avgExitTicks:this.ticksGained;if(t>=e)return .1;let i=1-t/e;return Math.max(.1,Math.min(.95,i))},get breakevenAdjustedExpectancy(){if(!this.useBreakevenStop)return this.expectancy;let t=this.avgWinAmount-this.commissionPerRT*this.numContracts,e=this.avgLossAmount+this.commissionPerRT*this.numContracts,i=-(this.commissionPerRT*this.numContracts),s=this.breakevenAdjustedWinRate,n=this.breakevenScratchRate,r=1-s-n;return s*t+n*i-r*e},get grossDailyGain(){if(!this.useBreakevenStop){let n=this.avgWinAmount*this.winningTrades,r=this.avgLossAmount*this.losingTrades;return n-r}let t=this.breakevenAdjustedWinRate*this.totalTrades,e=(1-this.breakevenAdjustedWinRate-this.breakevenScratchRate)*this.totalTrades,i=this.avgWinAmount*t,s=this.avgLossAmount*e;return i-s},get totalCommissions(){return this.commissionPerRT*this.totalTrades*this.numContracts*this.numAccounts},get netDailyGain(){return this.useBreakevenStop?this.breakevenAdjustedExpectancy*this.totalTrades:this.grossDailyGain-this.commissionPerRT*this.totalTrades*this.numContracts},get grossDailyGainTotal(){return this.grossDailyGain*this.numAccounts},get netDailyGainTotal(){return this.netDailyGain*this.numAccounts},get daysToEATarget(){return this.netDailyGain>0?this.eaProfitTarget/this.netDailyGain:0},get daysToEATargetAllAccounts(){return this.netDailyGainTotal>0?this.eaProfitTarget/this.netDailyGainTotal:0},get totalTargetContracts(){return this.target1Contracts+this.target2Contracts+this.target3Contracts},get avgExitPoints(){if(!this.useTargetSimulation)return this.ticksGained/this.contract.ticksPerPoint;if(Math.min(this.totalTargetContracts,this.numContracts)===0)return this.ticksGained/this.contract.ticksPerPoint;let e=0,i=0;if(this.target1Contracts>0&&i<this.numContracts){let s=Math.min(this.target1Contracts,this.numContracts-i);e+=s*this.target1Points,i+=s}if(this.target2Contracts>0&&i<this.numContracts){let s=Math.min(this.target2Contracts,this.numContracts-i);e+=s*this.target2Points,i+=s}if(this.target3Contracts>0&&i<this.numContracts){let s=Math.min(this.target3Contracts,this.numContracts-i);e+=s*this.target3Points,i+=s}return i>0?e/i:this.ticksGained/this.contract.ticksPerPoint},get avgExitTicks(){return this.avgExitPoints*this.contract.ticksPerPoint},get blendedRR(){return this.ticksLost>0?this.avgExitTicks/this.ticksLost:0},get maxConsecutiveLosses(){let t=1-this.winRate;return t<=0?0:Math.ceil(Math.log(.01)/Math.log(t))},get maxDrawdownFromLosses(){let e=this.maxConsecutiveLosses*this.maxTradeLoss*this.numAccounts;return this.eaDailyLimit>0?Math.min(e,this.eaDailyLimit):e},get tradesToDailyLimit(){return this.eaDailyLimit<=0||this.maxTradeLoss<=0?1/0:Math.floor(this.eaDailyLimit/(this.maxTradeLoss+this.commissionPerRT*this.numContracts))},get daysToBlowAccount(){if(this.netDailyGainTotal>=0)return 1/0;let t=Math.abs(this.netDailyGainTotal);return this.eaMaxDrawdown/t},get riskOfRuin(){if(this.winRate===0||this.rValue<=0)return 1;let t=1-this.winRate,e=this.winRate,i=this.rValue;if(this.expectancy<=0)return 1;let s=this.maxTradeLoss*this.numAccounts,n=Math.floor(this.eaMaxDrawdown/s);if(n<=0)return 1;let r=t/(e*i);if(r>=1)return 1;let o=Math.pow(r,n);return Math.min(1,Math.max(0,o))},get recommendedMaxContracts(){let t=this.eaMaxDrawdown*.01,e=this.ticksLost*this.contract.tickValue+2*this.commissionPerRT;return Math.max(1,Math.floor(t/e))},get isOversized(){return this.numContracts>this.recommendedMaxContracts},setupTargets(t){let e=this.numContracts;if(e!==0)switch(t){case"conservative":this.target1Contracts=Math.ceil(e*.6),this.target2Contracts=Math.floor(e*.3),this.target3Contracts=e-this.target1Contracts-this.target2Contracts,this.target1Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*1),this.target2Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*2),this.target3Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*3);break;case"moderate":this.target1Contracts=Math.ceil(e*.4),this.target2Contracts=Math.ceil(e*.4),this.target3Contracts=e-this.target1Contracts-this.target2Contracts,this.target1Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*1.5),this.target2Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*2.5),this.target3Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*4);break;case"aggressive":this.target1Contracts=Math.ceil(e*.2),this.target2Contracts=Math.floor(e*.3),this.target3Contracts=e-this.target1Contracts-this.target2Contracts,this.target1Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*2),this.target2Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*3),this.target3Points=Math.round(this.ticksLost/this.contract.ticksPerPoint*5);break}},shareAsURL(){let t=new URLSearchParams({c:this.selectedContract,wt:this.winningTrades.toString(),lt:this.losingTrades.toString(),tg:this.ticksGained.toString(),tl:this.ticksLost.toString(),nc:this.numContracts.toString(),na:this.numAccounts.toString(),cr:this.commissionPerRT.toString(),pf:this.selectedPropFirm,pt:this.eaProfitTarget.toString(),cd:this.customDays.toString(),ts:this.useTargetSimulation?"1":"0",t1c:this.target1Contracts.toString(),t1p:this.target1Points.toString(),t2c:this.target2Contracts.toString(),t2p:this.target2Points.toString(),t3c:this.target3Contracts.toString(),t3p:this.target3Points.toString(),bes:this.useBreakevenStop?"1":"0",btp:this.breakevenTriggerPoints.toString(),bwr:this.breakevenWinRate.toString(),dv:this.showDetailedView?"1":"0"});this.shareURL=window.location.origin+window.location.pathname+"?"+t.toString(),this.showShareModal=!0,this.copied=!1},async copyShareURL(){try{await navigator.clipboard.writeText(this.shareURL),this.copied=!0,setTimeout(()=>{this.copied=!1},2e3)}catch(t){console.error("Failed to copy URL:",t)}},loadFromURL(){let t=new URLSearchParams(window.location.search);t.has("c")&&(this.selectedContract=t.get("c")||"MNQ",this.winningTrades=parseInt(t.get("wt")||"2"),this.losingTrades=parseInt(t.get("lt")||"2"),this.ticksGained=parseInt(t.get("tg")||"120"),this.ticksLost=parseInt(t.get("tl")||"68"),this.numContracts=parseInt(t.get("nc")||"1"),this.numAccounts=parseInt(t.get("na")||"1"),this.commissionPerRT=parseFloat(t.get("cr")||this.contracts[this.selectedContract].defaultCommission.toString()),this.selectedPropFirm=t.get("pf")||"custom",this.eaProfitTarget=parseInt(t.get("pt")||"6000"),this.customDays=parseInt(t.get("cd")||"235"),this.useTargetSimulation=t.get("ts")==="1",this.target1Contracts=parseInt(t.get("t1c")||"0"),this.target1Points=parseInt(t.get("t1p")||"10"),this.target2Contracts=parseInt(t.get("t2c")||"0"),this.target2Points=parseInt(t.get("t2p")||"20"),this.target3Contracts=parseInt(t.get("t3c")||"0"),this.target3Points=parseInt(t.get("t3p")||"40"),this.useBreakevenStop=t.get("bes")==="1",this.breakevenTriggerPoints=parseInt(t.get("btp")||"10"),this.breakevenWinRate=parseFloat(t.get("bwr")||"0.30"),this.showDetailedView=t.get("dv")==="1")},async saveAsImage(){let t=event?.target?.closest("button");if(!t)return;let e=t.innerHTML;t.innerHTML="Generating...",t.disabled=!0;let i=document.querySelectorAll("button");try{i.forEach(c=>c.style.display="none");let s=document.querySelector(".max-w-7xl");if(!s)throw new Error("Content element not found");let n=document.documentElement.classList.contains("dark"),r=await html2canvas(s,{backgroundColor:n?"#111827":"#f3f4f6",scale:2,logging:!1,useCORS:!0,allowTaint:!0,onclone:c=>{if(n){c.documentElement.classList.add("dark");let l=c.querySelector(".max-w-7xl");l&&(l.style.backgroundColor="#111827",l.style.color="#f3f4f6")}}});i.forEach(c=>c.style.display="");let o=r.getContext("2d");o&&(o.font="14px Arial",o.fillStyle="rgba(0, 169, 232, 0.6)",o.textAlign="right",o.fillText("Created with ProfitPath by ProfitPros",r.width-20,r.height-20));let u=document.createElement("a");u.download=`profitpath-${this.selectedContract}-${new Date().toISOString().split("T")[0]}.png`,u.href=r.toDataURL(),u.click(),t.innerHTML=e,t.disabled=!1}catch(s){console.error("Error saving image:",s),alert("Error saving image. Please try again."),t.innerHTML=e,t.disabled=!1,i.forEach(n=>n.style.display="")}}}}window.riskCalculator=m;typeof window<"u"&&(window.riskCalculator=m);return P(N);})();
//# sourceMappingURL=calculator.min.js.map
